function y=trapezoid(t,acc,Vm,T)
t1 = Vm/acc;
y=(0.5*acc*t.^2).*(t>=0&t<t1)...
    + (0.5*acc*t1.^2 + Vm*(t-t1)).*(t>=t1&t<T-t1)...
    + (0.5*acc*t1.^2 + Vm*(T-2*t1)...
    + Vm*(t-T+t1) - 0.5*acc*(t-T+t1).^2).*(t>=T-t1&t<=T);
end
